--- a/net/minecraft/enchantment/EnchantmentHelper.java
+++ b/net/minecraft/enchantment/EnchantmentHelper.java
@@ -394,7 +394,7 @@
         {
             Enchantment var8 = var5[var7];
 
-            if (var8 != null && (var8.field_77351_y.func_77557_a(var2) || var4))
+            if (var8 != null && (var8.canApplyAtEnchantingTable(p_77505_1_) || var4))
             {
                 for (int var9 = var8.func_77319_d(); var9 <= var8.func_77325_b(); ++var9)
                 {
